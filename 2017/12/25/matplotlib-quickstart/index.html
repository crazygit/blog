<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>matplotlib教程 - Soul Mate</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="crazygit"><meta name=description content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。
"><meta name=keywords content="Hugo,crazygit,blog"><meta name=baidu-site-verification content="mEI3NT6pyx"><meta name=google-site-verification content="AbF6G10N67H-FaerplTnvfAXJrTtXBGHdr4xsSot7z8"><meta name=generator content="Hugo 0.84.2"><link rel=canonical href=https://crazygit.wiseturtles.com/2017/12/25/matplotlib-quickstart/><link rel=icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=stylesheet href=/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css integrity="sha256-s6iBPAbm14W+uiK/gmThdPoss6OWsi+bok4sAMGKr38=" media=screen crossorigin=anonymous><meta property="og:title" content="matplotlib教程"><meta property="og:description" content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。
"><meta property="og:type" content="article"><meta property="og:url" content="https://crazygit.wiseturtles.com/2017/12/25/matplotlib-quickstart/"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-12-25T11:14:51+08:00"><meta property="article:modified_time" content="2017-12-25T11:14:51+08:00"><meta itemprop=name content="matplotlib教程"><meta itemprop=description content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。
"><meta itemprop=datePublished content="2017-12-25T11:14:51+08:00"><meta itemprop=dateModified content="2017-12-25T11:14:51+08:00"><meta itemprop=wordCount content="3880"><meta itemprop=keywords content="matplotlib,"><meta name=twitter:card content="summary"><meta name=twitter:title content="matplotlib教程"><meta name=twitter:description content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。
"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-112251188-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Soul Mate</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/>主页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/categories/>分类</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/post/>归档</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/tags/>标签</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/about/>关于</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>Soul Mate</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/>主页</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/categories/>分类</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/about/>关于</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>matplotlib教程</h1><div class=post-meta><time datetime=2017-12-25 class=post-time>2017-12-25</time><div class=post-category><a href=https://crazygit.wiseturtles.com/categories/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/>python数据分析</a></div><span class=more-meta>约 3880 字</span>
<span class=more-meta>预计阅读 8 分钟</span>
<span id=/2017/12/25/matplotlib-quickstart/ class=leancloud_visitors data-flag-title=matplotlib教程><span class=post-meta-item-text>| 阅读</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#安装>安装</a></li><li><a href=#基本用法>基本用法</a><ul><li><a href=#画一个基本的线条>画一个基本的线条</a></li><li><a href=#一次画多个图像figure>一次画多个图像(Figure)</a></li><li><a href=#设置xy轴的坐标和标签>设置x,y轴的坐标和标签</a></li><li><a href=#设置xy轴的坐标原点位置和xy轴的刻度位置>设置x,y轴的坐标原点位置和x,y轴的刻度位置</a></li><li><a href=#添加图例legend>添加图例(legend)</a></li><li><a href=#添加标注annotation>添加标注(Annotation)</a></li><li><a href=#能见度tick>能见度(tick)</a></li></ul></li><li><a href=#画图的种类>画图的种类</a><ul><li><a href=#scatter-散点图>Scatter 散点图</a></li><li><a href=#bar柱状图>Bar柱状图</a></li><li><a href=#contours-等高线图>Contours 等高线图</a></li><li><a href=#image图片>Image图片</a></li><li><a href=#3d图像>3D图像</a></li></ul></li><li><a href=#多图合并显示subplot>多图合并显示（subplot）</a><ul><li><a href=#多合一显示>多合一显示</a></li><li><a href=#分格显示>分格显示</a></li><li><a href=#图中图>图中图</a></li><li><a href=#次坐标轴>次坐标轴</a></li></ul></li><li><a href=#动画animation>动画(Animation)</a></li><li><a href=#扩展阅读>扩展阅读</a></li></ul></nav></div></div><div class=post-content><p>本文参考:</p><p><a href=https://morvanzhou.github.io/tutorials/data-manipulation/plt/>Matplotlib 画图教程系列 | 莫烦Python</a></p><h2 id=安装>安装</h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pip install matplotlib
</code></pre></td></tr></table></div></div><h2 id=基本用法>基本用法</h2><h3 id=画一个基本的线条>画一个基本的线条</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>50</span>)
y <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
<span style=color:#75715e># x,y 的值是一一对应的</span>
plt<span style=color:#f92672>.</span>plot(x, y)
<span style=color:#75715e># 让图片显示</span>
plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-line.png alt=效果图></p><h3 id=一次画多个图像figure>一次画多个图像(Figure)</h3><p>默认情况下，一次只会画一张图片。通过<code>figure</code>，我们可以一次画多个图像。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>50</span>)
y1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
y2 <span style=color:#f92672>=</span> x<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>

<span style=color:#75715e># 画第一张图</span>
plt<span style=color:#f92672>.</span>figure()
plt<span style=color:#f92672>.</span>plot(x, y1)

<span style=color:#75715e># 画第二张图</span>
<span style=color:#75715e># num: 设置图片的序号, figsize: 设置图片的大小</span>
plt<span style=color:#f92672>.</span>figure(num<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>5</span>))
plt<span style=color:#f92672>.</span>plot(x, y2)
<span style=color:#75715e># 画第二张图的第二根图线</span>
<span style=color:#75715e># color: 设置图线的颜色, linewidth: 图线的宽度, linestyle: 图线的样式</span>
plt<span style=color:#f92672>.</span>plot(x, y1, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;red&#39;</span>, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>1.0</span>, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;--&#39;</span>)

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_1.png alt="Figure 1">
<img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_3.png alt="Figure 3"></p><h3 id=设置xy轴的坐标和标签>设置x,y轴的坐标和标签</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>50</span>)
y1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
y2 <span style=color:#f92672>=</span> x<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>

plt<span style=color:#f92672>.</span>figure(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>5</span>))
plt<span style=color:#f92672>.</span>plot(x, y2)
plt<span style=color:#f92672>.</span>plot(x, y1, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;red&#39;</span>, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>1.0</span>, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;--&#39;</span>)

<span style=color:#75715e># 设置x轴的坐标范围在(-1, 2)</span>
plt<span style=color:#f92672>.</span>xlim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)
<span style=color:#75715e># 设置y轴的坐标范围在(-2, 3)</span>
plt<span style=color:#f92672>.</span>ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>)
<span style=color:#75715e># 设置x轴的标签</span>
plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#34;I am x&#34;</span>)
<span style=color:#75715e># 设置y轴的标签</span>
plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#34;I am y&#34;</span>)

new_ticks <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>)
<span style=color:#75715e># 设置x轴的新坐标</span>
plt<span style=color:#f92672>.</span>xticks(new_ticks)

<span style=color:#75715e># 用文字代替y轴的坐标值, 首尾的$符号表示改变文字的字体</span>
plt<span style=color:#f92672>.</span>yticks([<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1.22</span>, <span style=color:#ae81ff>3</span>],
            [<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$really\ bad$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$bad$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$normal$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$good$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$really\ good$&#39;</span>])

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figsize_ticks.png alt="Figure with custom ticks"></p><h3 id=设置xy轴的坐标原点位置和xy轴的刻度位置>设置x,y轴的坐标原点位置和x,y轴的刻度位置</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>50</span>)
y1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
y2 <span style=color:#f92672>=</span> x<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>

plt<span style=color:#f92672>.</span>figure(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>5</span>))
plt<span style=color:#f92672>.</span>plot(x, y2)
plt<span style=color:#f92672>.</span>plot(x, y1, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;red&#39;</span>, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>1.0</span>, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;--&#39;</span>)

plt<span style=color:#f92672>.</span>xlim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)
plt<span style=color:#f92672>.</span>ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>)
plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#39;I am x&#39;</span>)
plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#39;I am y&#39;</span>)

new_ticks <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>)
plt<span style=color:#f92672>.</span>xticks(new_ticks)

plt<span style=color:#f92672>.</span>yticks([<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1.22</span>, <span style=color:#ae81ff>3</span>],
            [<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$really\ bad$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$bad$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$normal$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$good$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$really\ good$&#39;</span>])

<span style=color:#75715e># gca  = &#39;get current axis&#39;</span>
<span style=color:#75715e># 获取图片的4个外边框线</span>
ax <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>gca()
<span style=color:#75715e># 去掉右边的边框</span>
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;right&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
<span style=color:#75715e># 去掉上边的边框</span>
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;top&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
<span style=color:#75715e># 设置x轴的坐标刻度在下面</span>
ax<span style=color:#f92672>.</span>xaxis<span style=color:#f92672>.</span>set_ticks_position(<span style=color:#e6db74>&#39;bottom&#39;</span>)
<span style=color:#75715e># 设置y轴的坐标刻度在左边</span>
ax<span style=color:#f92672>.</span>yaxis<span style=color:#f92672>.</span>set_ticks_position(<span style=color:#e6db74>&#39;left&#39;</span>)

<span style=color:#75715e># 下面两个设置坐标原点的位置(0, 0)</span>
<span style=color:#75715e># 设置y轴的值在0刻度</span>
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;bottom&#39;</span>]<span style=color:#f92672>.</span>set_position((<span style=color:#e6db74>&#39;data&#39;</span>, <span style=color:#ae81ff>0</span>))
<span style=color:#75715e># 设置x轴的值在0刻度</span>
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;left&#39;</span>]<span style=color:#f92672>.</span>set_position((<span style=color:#e6db74>&#39;data&#39;</span>, <span style=color:#ae81ff>0</span>))

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_gca.png alt="change figure current axis"></p><h3 id=添加图例legend>添加图例(legend)</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>50</span>)
y1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span>x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
y2 <span style=color:#f92672>=</span> x<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>

plt<span style=color:#f92672>.</span>figure(figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>5</span>))

plt<span style=color:#f92672>.</span>xlim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)
plt<span style=color:#f92672>.</span>ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>)
plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#39;I am x&#39;</span>)
plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#39;I am y&#39;</span>)

new_ticks <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>)
plt<span style=color:#f92672>.</span>xticks(new_ticks)

plt<span style=color:#f92672>.</span>yticks([<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1.22</span>, <span style=color:#ae81ff>3</span>],
            [<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$really\ bad$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$bad$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$normal$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$good$&#39;</span>, <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$really\ good$&#39;</span>])

<span style=color:#75715e># 通过label参数设置线的名称</span>
l1, <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>plot(x, y2, label<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;up&#39;</span>)
l2, <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>plot(x, y1, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;red&#39;</span>, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>1.0</span>, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;--&#39;</span>, label<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;down&#39;</span>)
<span style=color:#75715e># 调用legend方法显示图例，如果这里使用了labels参数，会覆盖上面plot函数的label参数，否则图例就是用plot时指定的label。loc参数指定图例的位置</span>
plt<span style=color:#f92672>.</span>legend(handles<span style=color:#f92672>=</span>[l1, l2], labels<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;aaa&#39;</span>, <span style=color:#e6db74>&#39;bbb&#39;</span>], loc<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;best&#39;</span>)
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_legend.png alt="figure with legend"></p><h3 id=添加标注annotation>添加标注(Annotation)</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>50</span>)
y <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
plt<span style=color:#f92672>.</span>figure(num<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>5</span>))
plt<span style=color:#f92672>.</span>plot(x, y)

ax <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>gca()
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;right&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;top&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
ax<span style=color:#f92672>.</span>xaxis<span style=color:#f92672>.</span>set_ticks_position(<span style=color:#e6db74>&#39;bottom&#39;</span>)
ax<span style=color:#f92672>.</span>yaxis<span style=color:#f92672>.</span>set_ticks_position(<span style=color:#e6db74>&#39;left&#39;</span>)
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;bottom&#39;</span>]<span style=color:#f92672>.</span>set_position((<span style=color:#e6db74>&#39;data&#39;</span>, <span style=color:#ae81ff>0</span>))
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;left&#39;</span>]<span style=color:#f92672>.</span>set_position((<span style=color:#e6db74>&#39;data&#39;</span>, <span style=color:#ae81ff>0</span>))

x0 <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
y0 <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> x0 <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
plt<span style=color:#f92672>.</span>scatter(x0, y0, s<span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;b&#39;</span>)
plt<span style=color:#f92672>.</span>plot([x0, x0], [y0, <span style=color:#ae81ff>0</span>], <span style=color:#e6db74>&#39;k--&#39;</span>, lw<span style=color:#f92672>=</span><span style=color:#ae81ff>2.5</span>)

<span style=color:#75715e># method 1: 添加标注 annotate</span>
plt<span style=color:#f92672>.</span>annotate(
    <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$2x+1=</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>$&#39;</span> <span style=color:#f92672>%</span> y0,  <span style=color:#75715e># 标注的文本</span>
    xy<span style=color:#f92672>=</span>(x0, y0),        <span style=color:#75715e># 标注的位置</span>
    xycoords<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;data&#39;</span>,
    xytext<span style=color:#f92672>=</span>(<span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>30</span>),  <span style=color:#75715e># 标注文本相对于标注位置的偏移</span>
    textcoords<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;offset points&#34;</span>,
    fontsize<span style=color:#f92672>=</span><span style=color:#ae81ff>16</span>,        <span style=color:#75715e># 标注的文字字体大小</span>
    arrowprops<span style=color:#f92672>=</span>dict(    <span style=color:#75715e># 设置标注的箭头样式</span>
        arrowstyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;-&gt;&#39;</span>,
        connectionstyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;arc3, rad=.2&#39;</span>
    )
)

<span style=color:#75715e># method 2: 添加标注 text</span>
plt<span style=color:#f92672>.</span>text(
    <span style=color:#f92672>-</span><span style=color:#ae81ff>3.7</span>, <span style=color:#ae81ff>3</span>,  <span style=color:#75715e># 标注的位置</span>
    <span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;$This\ is\ the\ some\ text.\mu\ \sigma_i\ \alpha_t$&#39;</span>,  <span style=color:#75715e># 标注的文本</span>
    fontdict<span style=color:#f92672>=</span>{<span style=color:#e6db74>&#39;size&#39;</span>: <span style=color:#ae81ff>16</span>, <span style=color:#e6db74>&#39;color&#39;</span>: <span style=color:#e6db74>&#39;r&#39;</span>}   <span style=color:#75715e># 标注的字体设置</span>
)

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_annotate.png alt=annotate></p><h3 id=能见度tick>能见度(tick)</h3><p>当图片中的内容较多，相互遮盖时，我们可以通过设置相关内容的透明度来使图片更易于观察，即是通过bbox(backgroud box)参数设置来调节图像信息.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>50</span>)
y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.1</span> <span style=color:#f92672>*</span> x
plt<span style=color:#f92672>.</span>figure()
<span style=color:#75715e>#  参数zorder指定plot在z轴方向排序</span>
plt<span style=color:#f92672>.</span>plot(x, y, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)

plt<span style=color:#f92672>.</span>ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>)
ax <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>gca()
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;right&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;top&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;right&#39;</span>]<span style=color:#f92672>.</span>set_color(<span style=color:#e6db74>&#39;none&#39;</span>)
ax<span style=color:#f92672>.</span>xaxis<span style=color:#f92672>.</span>set_ticks_position(<span style=color:#e6db74>&#39;bottom&#39;</span>)
ax<span style=color:#f92672>.</span>yaxis<span style=color:#f92672>.</span>set_ticks_position(<span style=color:#e6db74>&#39;left&#39;</span>)
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;bottom&#39;</span>]<span style=color:#f92672>.</span>set_position((<span style=color:#e6db74>&#39;data&#39;</span>, <span style=color:#ae81ff>0</span>))
ax<span style=color:#f92672>.</span>spines[<span style=color:#e6db74>&#39;left&#39;</span>]<span style=color:#f92672>.</span>set_position((<span style=color:#e6db74>&#39;data&#39;</span>, <span style=color:#ae81ff>0</span>))

<span style=color:#75715e># 获取所有x轴和y轴的tick label</span>
<span style=color:#66d9ef>for</span> label <span style=color:#f92672>in</span> ax<span style=color:#f92672>.</span>get_xticklabels() <span style=color:#f92672>+</span> ax<span style=color:#f92672>.</span>get_yticklabels():
    label<span style=color:#f92672>.</span>set_fontsize(<span style=color:#ae81ff>12</span>)  <span style=color:#75715e># 设置label的文字大小</span>
    label<span style=color:#f92672>.</span>set_bbox(dict(
        facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;white&#39;</span>,  <span style=color:#75715e># 设置前景色</span>
        edgecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;None&#39;</span>,   <span style=color:#75715e># 设置边框为无</span>
        alpha<span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span>,   <span style=color:#75715e># 设置透明度</span>
        zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
    ))

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_tick.png alt="figure tick"></p><h2 id=画图的种类>画图的种类</h2><h3 id=scatter-散点图>Scatter 散点图</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np

n <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span>

X <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>random<span style=color:#f92672>.</span>normal(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, n)
Y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>random<span style=color:#f92672>.</span>normal(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, n)
T <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arctan2(Y, X)  <span style=color:#75715e># 用于设置颜色</span>

plt<span style=color:#f92672>.</span>scatter(X, Y, s<span style=color:#f92672>=</span><span style=color:#ae81ff>75</span>, c<span style=color:#f92672>=</span>T, alpha<span style=color:#f92672>=</span><span style=color:#ae81ff>0.5</span>)
plt<span style=color:#f92672>.</span>xlim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1.5</span>, <span style=color:#ae81ff>1.5</span>)
plt<span style=color:#f92672>.</span>ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1.5</span>, <span style=color:#ae81ff>1.5</span>)

<span style=color:#75715e># 去掉x,y轴的坐标刻度</span>
plt<span style=color:#f92672>.</span>xticks(())
plt<span style=color:#f92672>.</span>yticks(())

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_scatter.png alt="figure scatter"></p><h3 id=bar柱状图>Bar柱状图</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np

n <span style=color:#f92672>=</span> <span style=color:#ae81ff>12</span>

X <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arange(n)

Y1 <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> X <span style=color:#f92672>/</span> float(n)) <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>random<span style=color:#f92672>.</span>uniform(<span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>1.0</span>, n)
Y2 <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> X <span style=color:#f92672>/</span> float(n)) <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>random<span style=color:#f92672>.</span>uniform(<span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>1.0</span>, n)

plt<span style=color:#f92672>.</span>bar(X, <span style=color:#f92672>+</span>Y1, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;#9999ff&#39;</span>, edgecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;white&#39;</span>)
plt<span style=color:#f92672>.</span>bar(X, <span style=color:#f92672>-</span>Y2, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;#ff9999&#39;</span>, edgecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;white&#39;</span>)

<span style=color:#66d9ef>for</span> x, y <span style=color:#f92672>in</span> zip(X, Y1):
    <span style=color:#75715e># ha: horizontal alignment</span>
    <span style=color:#75715e># va: vertical alignment</span>
    plt<span style=color:#f92672>.</span>text(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.05</span>, y <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.02</span>, <span style=color:#e6db74>&#39;</span><span style=color:#e6db74>%.2f</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span> y, ha<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;center&#39;</span>, va<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bottom&#39;</span>)

<span style=color:#66d9ef>for</span> x, y <span style=color:#f92672>in</span> zip(X, Y2):
    <span style=color:#75715e># ha: horizontal alignment</span>
    <span style=color:#75715e># va: vertical alignment</span>
    plt<span style=color:#f92672>.</span>text(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.05</span>, <span style=color:#f92672>-</span>y <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.02</span>, <span style=color:#e6db74>&#39;-</span><span style=color:#e6db74>%.2f</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span> y, ha<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;center&#39;</span>, va<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;top&#39;</span>)

plt<span style=color:#f92672>.</span>xlim(<span style=color:#f92672>-</span><span style=color:#ae81ff>0.5</span>, n)
plt<span style=color:#f92672>.</span>xticks(())
plt<span style=color:#f92672>.</span>ylim(<span style=color:#f92672>-</span><span style=color:#ae81ff>1.25</span>, <span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>25</span>)
plt<span style=color:#f92672>.</span>yticks(())

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_bar.png alt="figure bar"></p><h3 id=contours-等高线图>Contours 等高线图</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>f</span>(x, y):
    <span style=color:#75715e># the height function</span>
    <span style=color:#66d9ef>return</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> x <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> x <span style=color:#f92672>**</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>+</span> y <span style=color:#f92672>**</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>exp(<span style=color:#f92672>-</span>x <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> y <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span>)

n <span style=color:#f92672>=</span> <span style=color:#ae81ff>256</span>
x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, n)
y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, n)

<span style=color:#75715e>#X, Y为shape为(256, 256)的表</span>
X, Y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>meshgrid(x, y)

<span style=color:#75715e># 接下来进行颜色填充。使用函数plt.contourf把颜色加进去。</span>
<span style=color:#75715e># 位置参数分别为: X, Y, f(X,Y)。透明度0.75，并将 f(X,Y) 的值对应到color map的暖色组中寻找对应颜色。</span>
<span style=color:#75715e># use plt.contourf to filling contours</span>
<span style=color:#75715e># X, Y and value for (X,Y) point</span>
<span style=color:#75715e># 其中，8代表等高线的密集程度，这里被分为10个部分。如果是0，则图像被一分为二</span>
plt<span style=color:#f92672>.</span>contourf(X, Y, f(X, Y), <span style=color:#ae81ff>8</span>, alpha<span style=color:#f92672>=</span><span style=color:#ae81ff>.75</span>, cmap<span style=color:#f92672>=</span>plt<span style=color:#f92672>.</span>cm<span style=color:#f92672>.</span>hot)

<span style=color:#75715e># 接下来进行等高线绘制。使用plt.contour函数划线。位置参数为：X, Y, f(X,Y)。颜色选黑色，线条宽度选0.5</span>
<span style=color:#75715e># use plt.contour to add contour lines</span>
C <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>contour(X, Y, f(X, Y), <span style=color:#ae81ff>8</span>, colors<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;black&#39;</span>, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>.5</span>)

<span style=color:#75715e># 最后加入Label，inline控制是否将Label画在线里面，字体大小为10。并将坐标轴隐藏：</span>
plt<span style=color:#f92672>.</span>clabel(C, inline<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, fontsize<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>)
plt<span style=color:#f92672>.</span>xticks(())
plt<span style=color:#f92672>.</span>yticks(())

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_Contours.png alt="figure contours"></p><h3 id=image图片>Image图片</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np

<span style=color:#75715e># 三行三列的格子，a代表每一个值，图像右边有一个注释，白色代表值最大的地方，颜色越深值越小。</span>
a <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>array([<span style=color:#ae81ff>0.313660827978</span>, <span style=color:#ae81ff>0.365348418405</span>, <span style=color:#ae81ff>0.423733120134</span>,
              <span style=color:#ae81ff>0.365348418405</span>, <span style=color:#ae81ff>0.439599930621</span>, <span style=color:#ae81ff>0.525083754405</span>,
              <span style=color:#ae81ff>0.423733120134</span>, <span style=color:#ae81ff>0.525083754405</span>, <span style=color:#ae81ff>0.651536351379</span>])<span style=color:#f92672>.</span>reshape(<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>3</span>)

<span style=color:#75715e># 之前选cmap的参数时用的是：cmap=plt.cmap.bone，而现在，我们可以直接用单引号传入参数。</span>
<span style=color:#75715e># origin=&#39;lower&#39;代表的就是选择的原点的位置。</span>
<span style=color:#75715e># interpolation参数设置出图的方式, 具体可以参考:</span>
<span style=color:#75715e># https://matplotlib.org/examples/images_contours_and_fields/interpolation_methods.html</span>
plt<span style=color:#f92672>.</span>imshow(a, interpolation<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;nearest&#39;</span>, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bone&#39;</span>, origin<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;lower&#39;</span>)

<span style=color:#75715e># 添加右边显示的colorbar ，其中我们添加一个shrink参数，使colorbar的长度变短为原来的92%：</span>
plt<span style=color:#f92672>.</span>colorbar(shrink<span style=color:#f92672>=</span><span style=color:#ae81ff>.92</span>)

plt<span style=color:#f92672>.</span>xticks(())
plt<span style=color:#f92672>.</span>yticks(())
plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_image.png alt="figure image"></p><h3 id=3d图像>3D图像</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>from</span> mpl_toolkits.mplot3d <span style=color:#f92672>import</span> Axes3D

fig <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>figure()
ax <span style=color:#f92672>=</span> Axes3D(fig)
ax<span style=color:#f92672>.</span>scatter(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>)

<span style=color:#75715e># X, Y value</span>
X <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arange(<span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>0.25</span>)
Y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arange(<span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>0.25</span>)
X, Y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>meshgrid(X, Y)    <span style=color:#75715e># x-y 平面的网格</span>
R <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>sqrt(X <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> Y <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span>)
<span style=color:#75715e># height value</span>
Z <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>sin(R)

<span style=color:#75715e># rstride 和 cstride 分别代表 row 和 column 的跨度。</span>
ax<span style=color:#f92672>.</span>plot_surface(X, Y, Z, rstride<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, cstride<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, cmap<span style=color:#f92672>=</span>plt<span style=color:#f92672>.</span>get_cmap(<span style=color:#e6db74>&#39;rainbow&#39;</span>))
<span style=color:#75715e># 添加 XY 平面的等高线,如果zdir 选择了x，那么效果将会是对于 XZ 平面的投影</span>
ax<span style=color:#f92672>.</span>contourf(X, Y, Z, zdir<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;z&#39;</span>, offset<span style=color:#f92672>=-</span><span style=color:#ae81ff>2</span>, cmap<span style=color:#f92672>=</span>plt<span style=color:#f92672>.</span>get_cmap(<span style=color:#e6db74>&#39;rainbow&#39;</span>))
plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_3d.png alt="figure 3d"></p><h2 id=多图合并显示subplot>多图合并显示（subplot）</h2><h3 id=多合一显示>多合一显示</h3><h4 id=均匀分割>均匀分割</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

plt<span style=color:#f92672>.</span>figure()

<span style=color:#75715e># 分成两行两列，画在第一个图的位置</span>
plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>])

plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>])

<span style=color:#75715e># `223` 简单的写法，分成两行两列，画在第三个图的位置</span>
plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>223</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>])

plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>224</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>4</span>])

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplot_1.png alt="figure subplot 1"></p><h4 id=不均匀分割>不均匀分割</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

plt<span style=color:#f92672>.</span>figure()

<span style=color:#75715e># 分成两行一列，画在第一个位置</span>
plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>])

<span style=color:#75715e># 分成两行三列，注意是从位置4开始</span>
plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>])

plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>235</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>])

plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>236</span>)
plt<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>4</span>])

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplot_2.png alt="figure subplot 2"></p><h3 id=分格显示>分格显示</h3><h4 id=方法1-subplot2grid>方法1: subplot2grid</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

plt<span style=color:#f92672>.</span>figure()

<span style=color:#75715e># 将figure分成3行3列，从(0,0)开始， 横跨3列，1行</span>
ax1 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot2grid((<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>), (<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>), colspan<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, rowspan<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>)
ax2 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot2grid((<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>), (<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>), colspan<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>)
ax3 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot2grid((<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>), (<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>), rowspan<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>)
ax4 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot2grid((<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>), (<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>))
ax5 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot2grid((<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>), (<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>))

ax1<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>])
ax1<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax1 title&#34;</span>)
ax2<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax2 title&#34;</span>)
ax3<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax3 title&#34;</span>)
ax4<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax4 title&#34;</span>)
ax5<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax5 title&#34;</span>)

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplot2grid.png alt="figure subplot2grid"></p><h4 id=方法2-gridspec>方法2: gridspec</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> matplotlib.gridspec <span style=color:#66d9ef>as</span> gridspec

plt<span style=color:#f92672>.</span>figure()

<span style=color:#75715e># 将figure分成三行三列</span>
gs <span style=color:#f92672>=</span> gridspec<span style=color:#f92672>.</span>GridSpec(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>)
<span style=color:#75715e># ax1, 第一行，所有列</span>
ax1 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot(gs[<span style=color:#ae81ff>0</span>, :])
<span style=color:#75715e># ax2, 第二行，前两列</span>
ax2 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot(gs[<span style=color:#ae81ff>1</span>, :<span style=color:#ae81ff>2</span>])
<span style=color:#75715e># ax2, 第二行到最后一行，第三列</span>
ax3 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot(gs[<span style=color:#ae81ff>1</span>:, <span style=color:#ae81ff>2</span>])
<span style=color:#75715e># ax2, 最后一行，第一列</span>
ax4 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot(gs[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>])
ax5 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplot(gs[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>])

ax1<span style=color:#f92672>.</span>plot([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>])
ax1<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#39;ax1 title&#39;</span>)
ax2<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax2 title&#34;</span>)
ax3<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax3 title&#34;</span>)
ax4<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax4 title&#34;</span>)
ax5<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#34;ax5 title&#34;</span>)

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-figure_gridspec.png alt="figure gridspec"></p><h4 id=方法3-subplots>方法3: subplots</h4><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

plt<span style=color:#f92672>.</span>figure()

<span style=color:#75715e># 使用plt.subplots建立一个2行2列的图像窗口</span>
<span style=color:#75715e># sharex=True表示共享x轴坐标, sharey=True表示共享y轴坐标.</span>
<span style=color:#75715e># f代表figure对象</span>
<span style=color:#75715e># ((ax11, ax12), (ax13, ax14))表示第1行从左至右依次放ax11和ax12, 第2行从左至右依次放ax13和ax14.</span>
f, ((ax11, ax12), (ax13, ax14)) <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplots(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, sharex<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, sharey<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)

ax11<span style=color:#f92672>.</span>scatter([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>])

<span style=color:#75715e># 紧凑显示图像</span>
plt<span style=color:#f92672>.</span>tight_layout()

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplots.png alt="figure subplots"></p><h3 id=图中图>图中图</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt

fig <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>figure()

<span style=color:#75715e># 创建数据</span>
x <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>]
y <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>6</span>]

<span style=color:#75715e># 4个值都是占整个figure坐标系的百分比。</span>
<span style=color:#75715e># 在这里，假设figure的大小是10x10，那么大图就被包含在由(1, 1)开始，宽8，高8的坐标系内。</span>
left, bottom, width, height <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.1</span>, <span style=color:#ae81ff>0.1</span>, <span style=color:#ae81ff>0.8</span>, <span style=color:#ae81ff>0.8</span>

<span style=color:#75715e># 将大图坐标系添加到figure中，颜色为r(red)，取名为title</span>

ax1 <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>add_axes([left, bottom, width, height])
ax1<span style=color:#f92672>.</span>plot(x, y, <span style=color:#e6db74>&#39;r&#39;</span>)
ax1<span style=color:#f92672>.</span>set_xlabel(<span style=color:#e6db74>&#39;x&#39;</span>)
ax1<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;y&#39;</span>)
ax1<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#39;title&#39;</span>)

<span style=color:#75715e># 绘制左上角的小图，步骤和绘制大图一样，注意坐标系位置和大小的改变</span>
left, bottom, width, height <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.2</span>, <span style=color:#ae81ff>0.6</span>, <span style=color:#ae81ff>0.25</span>, <span style=color:#ae81ff>0.25</span>
ax2 <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>add_axes([left, bottom, width, height])
ax2<span style=color:#f92672>.</span>plot(y, x, <span style=color:#e6db74>&#39;b&#39;</span>)
ax2<span style=color:#f92672>.</span>set_xlabel(<span style=color:#e6db74>&#39;x&#39;</span>)
ax2<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;y&#39;</span>)
ax2<span style=color:#f92672>.</span>set_title(<span style=color:#e6db74>&#39;title inside 1&#39;</span>)

<span style=color:#75715e># 绘制右下角的小图。这里我们采用一种更简单方法，即直接往plt里添加新的坐标系：</span>

plt<span style=color:#f92672>.</span>axes([<span style=color:#ae81ff>0.6</span>, <span style=color:#ae81ff>0.2</span>, <span style=color:#ae81ff>0.25</span>, <span style=color:#ae81ff>0.25</span>])
plt<span style=color:#f92672>.</span>plot(y[::<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], x, <span style=color:#e6db74>&#39;g&#39;</span>) <span style=color:#75715e># 注意对y进行了逆序处理</span>
plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#39;x&#39;</span>)
plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#39;y&#39;</span>)
plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;title inside 2&#39;</span>)

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_inside.png alt="figure insiede"></p><h3 id=次坐标轴>次坐标轴</h3><p>有时候我们会用到次坐标轴，即在同个图上有第2个y轴存在</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np

x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arange(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0.1</span>)
y1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.05</span> <span style=color:#f92672>*</span> x <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span>
y2 <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> y1

<span style=color:#75715e># 获取figure默认的坐标系 ax1</span>
fig, ax1 <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplots()
<span style=color:#75715e># 对ax1调用twinx()方法，生成如同镜面效果后的ax2</span>
ax2 <span style=color:#f92672>=</span> ax1<span style=color:#f92672>.</span>twinx()

ax1<span style=color:#f92672>.</span>plot(x, y1, <span style=color:#e6db74>&#39;g-&#39;</span>)  <span style=color:#75715e># green, solid line</span>
ax1<span style=color:#f92672>.</span>set_xlabel(<span style=color:#e6db74>&#39;X data&#39;</span>)
ax1<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;Y1 data&#39;</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;g&#39;</span>)

ax2<span style=color:#f92672>.</span>plot(x, y2, <span style=color:#e6db74>&#39;b-&#39;</span>)  <span style=color:#75715e># blue</span>
ax2<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;Y2 data&#39;</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;b&#39;</span>)

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_twinx.png alt="figure twinx"></p><h2 id=动画animation>动画(Animation)</h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> matplotlib <span style=color:#f92672>import</span> pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>from</span> matplotlib <span style=color:#f92672>import</span> animation
<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np

fig, ax <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplots()

<span style=color:#75715e># 数据是一个0~2π内的正弦曲线</span>
x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arange(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> np<span style=color:#f92672>.</span>pi, <span style=color:#ae81ff>0.01</span>)
line, <span style=color:#f92672>=</span> ax<span style=color:#f92672>.</span>plot(x, np<span style=color:#f92672>.</span>sin(x))


<span style=color:#75715e># 构造自定义动画函数animate，用来更新每一帧上各个x对应的y坐标值，参数表示第i帧</span>
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>animate</span>(i):
    line<span style=color:#f92672>.</span>set_ydata(np<span style=color:#f92672>.</span>sin(x <span style=color:#f92672>+</span> i <span style=color:#f92672>/</span> <span style=color:#ae81ff>10.0</span>))
    <span style=color:#66d9ef>return</span> line,


<span style=color:#75715e># 构造开始帧函数init</span>
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>init</span>():
    line<span style=color:#f92672>.</span>set_ydata(np<span style=color:#f92672>.</span>sin(x))
    <span style=color:#66d9ef>return</span> line,


<span style=color:#75715e># 参数说明:</span>
<span style=color:#75715e># fig 进行动画绘制的figure</span>
<span style=color:#75715e># func 自定义动画函数，即传入刚定义的函数animate</span>
<span style=color:#75715e># frames 动画长度，一次循环包含的帧数</span>
<span style=color:#75715e># init_func 自定义开始帧，即传入刚定义的函数init</span>
<span style=color:#75715e># interval 更新频率，以ms计</span>
<span style=color:#75715e># blit 选择更新所有点，还是仅更新产生变化的点。应选择True，但mac用户请选择False，否则无法显示动画</span>
ani <span style=color:#f92672>=</span> animation<span style=color:#f92672>.</span>FuncAnimation(fig<span style=color:#f92672>=</span>fig,
                              func<span style=color:#f92672>=</span>animate,
                              frames<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>,
                              init_func<span style=color:#f92672>=</span>init,
                              interval<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>,
                              blit<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)

<span style=color:#75715e># 保存为MP4格式</span>
<span style=color:#75715e># ani.save(&#39;basic_animation.mp4&#39;, fps=30, extra_args=[&#39;-vcodec&#39;, &#39;libx264&#39;])</span>

plt<span style=color:#f92672>.</span>show()
</code></pre></td></tr></table></div></div><p>{%
iframe <a href=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/basic_animation.mp4>https://cdn.jsdelivr.net/gh/crazygit/static@main/img/basic_animation.mp4</a> 100% 100%
%}</p><h2 id=扩展阅读>扩展阅读</h2><ul><li><a href=https://matplotlib.org/gallery.html>Matplotlib gallery</a> 可以查看各种图的效果和代码</li><li><a href=https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/>Matplotlib 教程</a></li><li><a href=http://codingpy.com/article/a-quick-intro-to-matplotlib/>十分钟入门Matplotlib</a></li></ul></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>crazygit</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2017-12-25</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/wechatpay.jpg>
<span>微信打赏</span></label></div></div><footer class=post-footer><div class=post-tags><a href=https://crazygit.wiseturtles.com/tags/matplotlib/>matplotlib</a></div><nav class=post-nav><a class=prev href=/2017/12/26/python-for-data-analysis-2nd-edition-note-one/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg></i><span class="prev-text nav-default">《利用Python进行数据分析第二版》读书笔记一</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/2017/12/20/10-minutes-to-pandas/><span class="next-text nav-default">10分钟入门Pandas</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697c-11.777231-11.500939-30.216186-10.304694-41.178865 2.712784z"/></svg></i></a></nav></footer></article><div class="post bg-white"><script src=https://utteranc.es/client.js repo=crazygit/hugo-blog-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:crazygit@foxmail.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg></a><a href=https://twitter.com/lianglin999 rel="me noopener" class=iconfont title=twitter target=_blank><svg class="icon" viewBox="0 0 1264 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M1229.8616 18.043658s-117.852626 63.135335-164.151872 67.344358C960.484169-78.763856 560.627046-7.210476 627.971403 308.466201 278.622548 312.675223 89.216542 47.506814 89.216542 47.506814S-28.636084 236.91282 164.978944 392.646647C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042 50.5082679999998-16.83609 134.688715-143.10676 134.688715-143.10676s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"/></svg></a><a href=https://github.com/crazygit rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04C242.005334 929.664 211.968 830.08 211.968 830.08 188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://www.weibo.com/crazygit/profile rel="me noopener" class=iconfont title=weibo target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857Q513.142857 784 448.571429 811.428572t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571Q712 579.428572 666.285714 537.142858t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140T152.57143 366.857144q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857Q604 336.857143 665.142858 336.857143t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571T752.571429 492t6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zM850.857143 280q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571T836 430.857142q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20Q725.714286 308 713.714286 300.571428t-14.285714-21.142857Q696.571429 265.714285 704.000001 254t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857Q1004 241.714286 1018.571428 314t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571T935.999999 428q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429T712.571427 180q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"/></svg></a><a href=https://crazygit.wiseturtles.com/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667v-199.04c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2017 -
2021
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>crazygit</span></span>
<span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script><script id=baidu_analytics>var _hmt=_hmt||[];(function(){var a,b;if(window.location.hostname==='localhost')return;a=document.createElement("script"),a.async=!0,a.src="https://hm.baidu.com/hm.js?2b47f91b8532d1a5e950c8e77142d95c",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script id=baidu_push>(function(){var a,c,b;if(window.location.hostname==='localhost')return;a=document.createElement('script'),a.async=!0,c=window.location.protocol.split(':')[0],c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script type=text/javascript src=/js/load-photoswipe.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js></script><script type=text/javascript>AV.initialize("bWUs89CHYswTxwt88Jf71tIF-gzGzoHsz","IcudhQhVD2eqKqkOTQQ6agUS")</script><script>function showHitCount(d){var b=new AV.Query(d),a=[],c=$(".leancloud_visitors");c.each(function(){a.push($(this).attr("id").trim())}),b.containedIn('url',a),b.find().done(function(d){var e='.leancloud-visitors-count',b,h,f,j,g,i;if(d.length===0){c.find(e).text(0);return}for(b=0;b<d.length;b++)h=d[b],f=h.get('url'),j=h.get('hits'),g=document.getElementById(f),$(g).find(e).text(j);for(b=0;b<a.length;b++)f=a[b],g=document.getElementById(f),i=$(g).find(e),i.text()==''&&i.text(0)}).fail(function(b,a){console.log("Error: "+a.code+" "+a.message)})}function addCount(b){var c=$(".leancloud_visitors"),a=c.attr('id').trim(),e=c.attr('data-flag-title').trim(),d=new AV.Query(b);d.equalTo("url",a),d.find({success:function(g){var d,c,f;g.length>0?(d=g[0],d.fetchWhenSave(!0),d.increment("hits"),d.save(null,{success:function(b){var c=$(document.getElementById(a));c.find('.leancloud-visitors-count').text(b.get('hits'))},error:function(b,a){console.log('Failed to save Visitor num, with error message: '+a.message)}})):(c=new b,f=new AV.ACL,f.setPublicReadAccess(!0),f.setPublicWriteAccess(!0),c.setACL(f),c.set("title",e),c.set("url",a),c.set("hits",1),c.save(null,{success:function(b){var c=$(document.getElementById(a));c.find('.leancloud-visitors-count').text(b.get('hits'))},error:function(a,b){console.log('Failed to create')}}))},error:function(a){console.log('Error:'+a.code+" "+a.message)}})}$(function(){var a=AV.Object.extend("Counter");$('.leancloud_visitors').length==1?addCount(a):$('.post-link').length>1&&showHitCount(a)})</script></body></html>