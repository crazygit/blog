<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>matplotlib教程 - Soul Mate</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="crazygit"><meta name=description content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。"><meta name=keywords content="Hugo,crazygit,blog"><meta name=baidu-site-verification content="mEI3NT6pyx"><meta name=google-site-verification content="AbF6G10N67H-FaerplTnvfAXJrTtXBGHdr4xsSot7z8"><meta name=generator content="Hugo 0.79.0"><link rel=canonical href=https://crazygit.wiseturtles.com/2017/12/25/matplotlib-quickstart/><link rel=icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=stylesheet href=/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css integrity="sha256-s6iBPAbm14W+uiK/gmThdPoss6OWsi+bok4sAMGKr38=" media=screen crossorigin=anonymous><link rel=stylesheet href=/css/douban.css><link rel=stylesheet href=/css/monokai-syntax.css><meta property="og:title" content="matplotlib教程"><meta property="og:description" content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。"><meta property="og:type" content="article"><meta property="og:url" content="https://crazygit.wiseturtles.com/2017/12/25/matplotlib-quickstart/"><meta property="article:published_time" content="2017-12-25T11:14:51+08:00"><meta property="article:modified_time" content="2017-12-25T11:14:51+08:00"><meta itemprop=name content="matplotlib教程"><meta itemprop=description content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。"><meta itemprop=datePublished content="2017-12-25T11:14:51+08:00"><meta itemprop=dateModified content="2017-12-25T11:14:51+08:00"><meta itemprop=wordCount content="3880"><meta itemprop=keywords content="matplotlib,"><meta name=twitter:card content="summary"><meta name=twitter:title content="matplotlib教程"><meta name=twitter:description content="matplotlib是数据可视化的一个库，功能十分强大，使用它可以很方便的画图各种图形。"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-112251188-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Soul Mate</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/>主页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/categories/>分类</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/post/>归档</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/tags/>标签</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/books/>读书</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/about/>关于</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>Soul Mate</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/>主页</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/categories/>分类</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/books/>读书</a></li><li class=menu-item><a class=menu-item-link href=https://crazygit.wiseturtles.com/about/>关于</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>matplotlib教程</h1><div class=post-meta><time datetime=2017-12-25 class=post-time>2017-12-25</time><div class=post-category><a href=https://crazygit.wiseturtles.com/categories/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/>python数据分析</a></div><span class=more-meta>约 3880 字</span>
<span class=more-meta>预计阅读 8 分钟</span>
<span id=/2017/12/25/matplotlib-quickstart/ class=leancloud_visitors data-flag-title=matplotlib教程><span class=post-meta-item-text>| 阅读</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#安装>安装</a></li><li><a href=#基本用法>基本用法</a><ul><li><a href=#画一个基本的线条>画一个基本的线条</a></li><li><a href=#一次画多个图像figure>一次画多个图像(Figure)</a></li><li><a href=#设置xy轴的坐标和标签>设置x,y轴的坐标和标签</a></li><li><a href=#设置xy轴的坐标原点位置和xy轴的刻度位置>设置x,y轴的坐标原点位置和x,y轴的刻度位置</a></li><li><a href=#添加图例legend>添加图例(legend)</a></li><li><a href=#添加标注annotation>添加标注(Annotation)</a></li><li><a href=#能见度tick>能见度(tick)</a></li></ul></li><li><a href=#画图的种类>画图的种类</a><ul><li><a href=#scatter-散点图>Scatter 散点图</a></li><li><a href=#bar柱状图>Bar柱状图</a></li><li><a href=#contours-等高线图>Contours 等高线图</a></li><li><a href=#image图片>Image图片</a></li><li><a href=#3d图像>3D图像</a></li></ul></li><li><a href=#多图合并显示subplot>多图合并显示（subplot）</a><ul><li><a href=#多合一显示>多合一显示</a></li><li><a href=#分格显示>分格显示</a></li><li><a href=#图中图>图中图</a></li><li><a href=#次坐标轴>次坐标轴</a></li></ul></li><li><a href=#动画animation>动画(Animation)</a></li><li><a href=#扩展阅读>扩展阅读</a></li></ul></nav></div></div><div class=post-content><p>本文参考:</p><p><a href=https://morvanzhou.github.io/tutorials/data-manipulation/plt/>Matplotlib 画图教程系列 | 莫烦Python</a></p><h2 id=安装>安装</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ pip install matplotlib
</code></pre></td></tr></table></div></div><h2 id=基本用法>基本用法</h2><h3 id=画一个基本的线条>画一个基本的线条</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y</span> <span class=o>=</span> <span class=mi>2</span><span class=o>*</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
<span class=c1># x,y 的值是一一对应的</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
<span class=c1># 让图片显示</span>
<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-line.png alt=效果图></p><h3 id=一次画多个图像figure>一次画多个图像(Figure)</h3><p>默认情况下，一次只会画一张图片。通过<code>figure</code>，我们可以一次画多个图像。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y1</span> <span class=o>=</span> <span class=mi>2</span><span class=o>*</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
<span class=n>y2</span> <span class=o>=</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span>

<span class=c1># 画第一张图</span>
<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>)</span>

<span class=c1># 画第二张图</span>
<span class=c1># num: 设置图片的序号, figsize: 设置图片的大小</span>
<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>num</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span><span class=mi>5</span><span class=p>))</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
<span class=c1># 画第二张图的第二根图线</span>
<span class=c1># color: 设置图线的颜色, linewidth: 图线的宽度, linestyle: 图线的样式</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>linestyle</span><span class=o>=</span><span class=s1>&#39;--&#39;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_1.png alt="Figure 1">
<img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_3.png alt="Figure 3"></p><h3 id=设置xy轴的坐标和标签>设置x,y轴的坐标和标签</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y1</span> <span class=o>=</span> <span class=mi>2</span><span class=o>*</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
<span class=n>y2</span> <span class=o>=</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>linestyle</span><span class=o>=</span><span class=s1>&#39;--&#39;</span><span class=p>)</span>

<span class=c1># 设置x轴的坐标范围在(-1, 2)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlim</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=c1># 设置y轴的坐标范围在(-2, 3)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=c1># 设置x轴的标签</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s2>&#34;I am x&#34;</span><span class=p>)</span>
<span class=c1># 设置y轴的标签</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s2>&#34;I am y&#34;</span><span class=p>)</span>

<span class=n>new_ticks</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=c1># 设置x轴的新坐标</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(</span><span class=n>new_ticks</span><span class=p>)</span>

<span class=c1># 用文字代替y轴的坐标值, 首尾的$符号表示改变文字的字体</span>
<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>([</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mf>1.8</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mf>1.22</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
            <span class=p>[</span><span class=sa>r</span><span class=s1>&#39;$really\ bad$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$bad$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$normal$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$good$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$really\ good$&#39;</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figsize_ticks.png alt="Figure with custom ticks"></p><h3 id=设置xy轴的坐标原点位置和xy轴的刻度位置>设置x,y轴的坐标原点位置和x,y轴的刻度位置</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y1</span> <span class=o>=</span> <span class=mi>2</span><span class=o>*</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
<span class=n>y2</span> <span class=o>=</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>linestyle</span><span class=o>=</span><span class=s1>&#39;--&#39;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>xlim</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s1>&#39;I am x&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;I am y&#39;</span><span class=p>)</span>

<span class=n>new_ticks</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(</span><span class=n>new_ticks</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>([</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mf>1.8</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mf>1.22</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
            <span class=p>[</span><span class=sa>r</span><span class=s1>&#39;$really\ bad$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$bad$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$normal$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$good$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$really\ good$&#39;</span><span class=p>])</span>

<span class=c1># gca  = &#39;get current axis&#39;</span>
<span class=c1># 获取图片的4个外边框线</span>
<span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>gca</span><span class=p>()</span>
<span class=c1># 去掉右边的边框</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;right&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=c1># 去掉上边的边框</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;top&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=c1># 设置x轴的坐标刻度在下面</span>
<span class=n>ax</span><span class=o>.</span><span class=n>xaxis</span><span class=o>.</span><span class=n>set_ticks_position</span><span class=p>(</span><span class=s1>&#39;bottom&#39;</span><span class=p>)</span>
<span class=c1># 设置y轴的坐标刻度在左边</span>
<span class=n>ax</span><span class=o>.</span><span class=n>yaxis</span><span class=o>.</span><span class=n>set_ticks_position</span><span class=p>(</span><span class=s1>&#39;left&#39;</span><span class=p>)</span>

<span class=c1># 下面两个设置坐标原点的位置(0, 0)</span>
<span class=c1># 设置y轴的值在0刻度</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;bottom&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_position</span><span class=p>((</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
<span class=c1># 设置x轴的值在0刻度</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;left&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_position</span><span class=p>((</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_gca.png alt="change figure current axis"></p><h3 id=添加图例legend>添加图例(legend)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y1</span> <span class=o>=</span> <span class=mi>2</span><span class=o>*</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
<span class=n>y2</span> <span class=o>=</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>

<span class=n>plt</span><span class=o>.</span><span class=n>xlim</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s1>&#39;I am x&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;I am y&#39;</span><span class=p>)</span>

<span class=n>new_ticks</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(</span><span class=n>new_ticks</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>([</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mf>1.8</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mf>1.22</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
            <span class=p>[</span><span class=sa>r</span><span class=s1>&#39;$really\ bad$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$bad$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$normal$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$good$&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;$really\ good$&#39;</span><span class=p>])</span>

<span class=c1># 通过label参数设置线的名称</span>
<span class=n>l1</span><span class=p>,</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y2</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s1>&#39;up&#39;</span><span class=p>)</span>
<span class=n>l2</span><span class=p>,</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>linestyle</span><span class=o>=</span><span class=s1>&#39;--&#39;</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s1>&#39;down&#39;</span><span class=p>)</span>
<span class=c1># 调用legend方法显示图例，如果这里使用了labels参数，会覆盖上面plot函数的label参数，否则图例就是用plot时指定的label。loc参数指定图例的位置</span>
<span class=n>plt</span><span class=o>.</span><span class=n>legend</span><span class=p>(</span><span class=n>handles</span><span class=o>=</span><span class=p>[</span><span class=n>l1</span><span class=p>,</span> <span class=n>l2</span><span class=p>],</span> <span class=n>labels</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;aaa&#39;</span><span class=p>,</span> <span class=s1>&#39;bbb&#39;</span><span class=p>],</span> <span class=n>loc</span><span class=o>=</span><span class=s1>&#39;best&#39;</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_legend.png alt="figure with legend"></p><h3 id=添加标注annotation>添加标注(Annotation)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>num</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>

<span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>gca</span><span class=p>()</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;right&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;top&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>xaxis</span><span class=o>.</span><span class=n>set_ticks_position</span><span class=p>(</span><span class=s1>&#39;bottom&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>yaxis</span><span class=o>.</span><span class=n>set_ticks_position</span><span class=p>(</span><span class=s1>&#39;left&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;bottom&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_position</span><span class=p>((</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;left&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_position</span><span class=p>((</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>

<span class=n>x0</span> <span class=o>=</span> <span class=mi>1</span>
<span class=n>y0</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>x0</span> <span class=o>+</span> <span class=mi>1</span>
<span class=n>plt</span><span class=o>.</span><span class=n>scatter</span><span class=p>(</span><span class=n>x0</span><span class=p>,</span> <span class=n>y0</span><span class=p>,</span> <span class=n>s</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;b&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=n>x0</span><span class=p>,</span> <span class=n>x0</span><span class=p>],</span> <span class=p>[</span><span class=n>y0</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=s1>&#39;k--&#39;</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mf>2.5</span><span class=p>)</span>

<span class=c1># method 1: 添加标注 annotate</span>
<span class=n>plt</span><span class=o>.</span><span class=n>annotate</span><span class=p>(</span>
    <span class=sa>r</span><span class=s1>&#39;$2x+1=</span><span class=si>%s</span><span class=s1>$&#39;</span> <span class=o>%</span> <span class=n>y0</span><span class=p>,</span>  <span class=c1># 标注的文本</span>
    <span class=n>xy</span><span class=o>=</span><span class=p>(</span><span class=n>x0</span><span class=p>,</span> <span class=n>y0</span><span class=p>),</span>        <span class=c1># 标注的位置</span>
    <span class=n>xycoords</span><span class=o>=</span><span class=s1>&#39;data&#39;</span><span class=p>,</span>
    <span class=n>xytext</span><span class=o>=</span><span class=p>(</span><span class=o>+</span><span class=mi>30</span><span class=p>,</span> <span class=o>-</span><span class=mi>30</span><span class=p>),</span>  <span class=c1># 标注文本相对于标注位置的偏移</span>
    <span class=n>textcoords</span><span class=o>=</span><span class=s2>&#34;offset points&#34;</span><span class=p>,</span>
    <span class=n>fontsize</span><span class=o>=</span><span class=mi>16</span><span class=p>,</span>        <span class=c1># 标注的文字字体大小</span>
    <span class=n>arrowprops</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>    <span class=c1># 设置标注的箭头样式</span>
        <span class=n>arrowstyle</span><span class=o>=</span><span class=s1>&#39;-&gt;&#39;</span><span class=p>,</span>
        <span class=n>connectionstyle</span><span class=o>=</span><span class=s1>&#39;arc3, rad=.2&#39;</span>
    <span class=p>)</span>
<span class=p>)</span>

<span class=c1># method 2: 添加标注 text</span>
<span class=n>plt</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
    <span class=o>-</span><span class=mf>3.7</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span>  <span class=c1># 标注的位置</span>
    <span class=sa>r</span><span class=s1>&#39;$This\ is\ the\ some\ text.\mu\ \sigma_i\ \alpha_t$&#39;</span><span class=p>,</span>  <span class=c1># 标注的文本</span>
    <span class=n>fontdict</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;size&#39;</span><span class=p>:</span> <span class=mi>16</span><span class=p>,</span> <span class=s1>&#39;color&#39;</span><span class=p>:</span> <span class=s1>&#39;r&#39;</span><span class=p>}</span>   <span class=c1># 标注的字体设置</span>
<span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_annotate.png alt=annotate></p><h3 id=能见度tick>能见度(tick)</h3><p>当图片中的内容较多，相互遮盖时，我们可以通过设置相关内容的透明度来使图片更易于观察，即是通过bbox(backgroud box)参数设置来调节图像信息.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=n>y</span> <span class=o>=</span> <span class=mf>0.1</span> <span class=o>*</span> <span class=n>x</span>
<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>
<span class=c1>#  参数zorder指定plot在z轴方向排序</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>zorder</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>gca</span><span class=p>()</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;right&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;top&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;right&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s1>&#39;none&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>xaxis</span><span class=o>.</span><span class=n>set_ticks_position</span><span class=p>(</span><span class=s1>&#39;bottom&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>yaxis</span><span class=o>.</span><span class=n>set_ticks_position</span><span class=p>(</span><span class=s1>&#39;left&#39;</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;bottom&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_position</span><span class=p>((</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
<span class=n>ax</span><span class=o>.</span><span class=n>spines</span><span class=p>[</span><span class=s1>&#39;left&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>set_position</span><span class=p>((</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>

<span class=c1># 获取所有x轴和y轴的tick label</span>
<span class=k>for</span> <span class=n>label</span> <span class=ow>in</span> <span class=n>ax</span><span class=o>.</span><span class=n>get_xticklabels</span><span class=p>()</span> <span class=o>+</span> <span class=n>ax</span><span class=o>.</span><span class=n>get_yticklabels</span><span class=p>():</span>
    <span class=n>label</span><span class=o>.</span><span class=n>set_fontsize</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span>  <span class=c1># 设置label的文字大小</span>
    <span class=n>label</span><span class=o>.</span><span class=n>set_bbox</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span>
        <span class=n>facecolor</span><span class=o>=</span><span class=s1>&#39;white&#39;</span><span class=p>,</span>  <span class=c1># 设置前景色</span>
        <span class=n>edgecolor</span><span class=o>=</span><span class=s1>&#39;None&#39;</span><span class=p>,</span>   <span class=c1># 设置边框为无</span>
        <span class=n>alpha</span><span class=o>=</span><span class=mf>0.7</span><span class=p>,</span>   <span class=c1># 设置透明度</span>
        <span class=n>zorder</span><span class=o>=</span><span class=mi>2</span>
    <span class=p>))</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-figure_tick.png alt="figure tick"></p><h2 id=画图的种类>画图的种类</h2><h3 id=scatter-散点图>Scatter 散点图</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>

<span class=n>n</span> <span class=o>=</span> <span class=mi>1024</span>

<span class=n>X</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>normal</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>
<span class=n>Y</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>normal</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>
<span class=n>T</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arctan2</span><span class=p>(</span><span class=n>Y</span><span class=p>,</span> <span class=n>X</span><span class=p>)</span>  <span class=c1># 用于设置颜色</span>

<span class=n>plt</span><span class=o>.</span><span class=n>scatter</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>,</span> <span class=n>s</span><span class=o>=</span><span class=mi>75</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=n>T</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlim</span><span class=p>(</span><span class=o>-</span><span class=mf>1.5</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=o>-</span><span class=mf>1.5</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>)</span>

<span class=c1># 去掉x,y轴的坐标刻度</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(())</span>
<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>(())</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_scatter.png alt="figure scatter"></p><h3 id=bar柱状图>Bar柱状图</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>

<span class=n>n</span> <span class=o>=</span> <span class=mi>12</span>

<span class=n>X</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>

<span class=n>Y1</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=n>X</span> <span class=o>/</span> <span class=nb>float</span><span class=p>(</span><span class=n>n</span><span class=p>))</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>
<span class=n>Y2</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=n>X</span> <span class=o>/</span> <span class=nb>float</span><span class=p>(</span><span class=n>n</span><span class=p>))</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=o>+</span><span class=n>Y1</span><span class=p>,</span> <span class=n>facecolor</span><span class=o>=</span><span class=s1>&#39;#9999ff&#39;</span><span class=p>,</span> <span class=n>edgecolor</span><span class=o>=</span><span class=s1>&#39;white&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>bar</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=o>-</span><span class=n>Y2</span><span class=p>,</span> <span class=n>facecolor</span><span class=o>=</span><span class=s1>&#39;#ff9999&#39;</span><span class=p>,</span> <span class=n>edgecolor</span><span class=o>=</span><span class=s1>&#39;white&#39;</span><span class=p>)</span>

<span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y1</span><span class=p>):</span>
    <span class=c1># ha: horizontal alignment</span>
    <span class=c1># va: vertical alignment</span>
    <span class=n>plt</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=mf>0.05</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=mf>0.02</span><span class=p>,</span> <span class=s1>&#39;</span><span class=si>%.2f</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>y</span><span class=p>,</span> <span class=n>ha</span><span class=o>=</span><span class=s1>&#39;center&#39;</span><span class=p>,</span> <span class=n>va</span><span class=o>=</span><span class=s1>&#39;bottom&#39;</span><span class=p>)</span>

<span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y2</span><span class=p>):</span>
    <span class=c1># ha: horizontal alignment</span>
    <span class=c1># va: vertical alignment</span>
    <span class=n>plt</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=mf>0.05</span><span class=p>,</span> <span class=o>-</span><span class=n>y</span> <span class=o>-</span> <span class=mf>0.02</span><span class=p>,</span> <span class=s1>&#39;-</span><span class=si>%.2f</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>y</span><span class=p>,</span> <span class=n>ha</span><span class=o>=</span><span class=s1>&#39;center&#39;</span><span class=p>,</span> <span class=n>va</span><span class=o>=</span><span class=s1>&#39;top&#39;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>xlim</span><span class=p>(</span><span class=o>-</span><span class=mf>0.5</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(())</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=o>-</span><span class=mf>1.25</span><span class=p>,</span> <span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>(())</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_bar.png alt="figure bar"></p><h3 id=contours-等高线图>Contours 等高线图</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>

<span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
    <span class=c1># the height function</span>
    <span class=k>return</span> <span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=n>x</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>+</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>5</span> <span class=o>+</span> <span class=n>y</span> <span class=o>**</span> <span class=mi>3</span><span class=p>)</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>exp</span><span class=p>(</span><span class=o>-</span><span class=n>x</span> <span class=o>**</span> <span class=mi>2</span> <span class=o>-</span> <span class=n>y</span> <span class=o>**</span> <span class=mi>2</span><span class=p>)</span>

<span class=n>n</span> <span class=o>=</span> <span class=mi>256</span>
<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>
<span class=n>y</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>n</span><span class=p>)</span>

<span class=c1>#X, Y为shape为(256, 256)的表</span>
<span class=n>X</span><span class=p>,</span> <span class=n>Y</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>meshgrid</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>

<span class=c1># 接下来进行颜色填充。使用函数plt.contourf把颜色加进去。</span>
<span class=c1># 位置参数分别为: X, Y, f(X,Y)。透明度0.75，并将 f(X,Y) 的值对应到color map的暖色组中寻找对应颜色。</span>
<span class=c1># use plt.contourf to filling contours</span>
<span class=c1># X, Y and value for (X,Y) point</span>
<span class=c1># 其中，8代表等高线的密集程度，这里被分为10个部分。如果是0，则图像被一分为二</span>
<span class=n>plt</span><span class=o>.</span><span class=n>contourf</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>,</span> <span class=n>f</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>),</span> <span class=mi>8</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=.</span><span class=mi>75</span><span class=p>,</span> <span class=n>cmap</span><span class=o>=</span><span class=n>plt</span><span class=o>.</span><span class=n>cm</span><span class=o>.</span><span class=n>hot</span><span class=p>)</span>

<span class=c1># 接下来进行等高线绘制。使用plt.contour函数划线。位置参数为：X, Y, f(X,Y)。颜色选黑色，线条宽度选0.5</span>
<span class=c1># use plt.contour to add contour lines</span>
<span class=n>C</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>contour</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>,</span> <span class=n>f</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>),</span> <span class=mi>8</span><span class=p>,</span> <span class=n>colors</span><span class=o>=</span><span class=s1>&#39;black&#39;</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=.</span><span class=mi>5</span><span class=p>)</span>

<span class=c1># 最后加入Label，inline控制是否将Label画在线里面，字体大小为10。并将坐标轴隐藏：</span>
<span class=n>plt</span><span class=o>.</span><span class=n>clabel</span><span class=p>(</span><span class=n>C</span><span class=p>,</span> <span class=n>inline</span><span class=o>=</span><span class=bp>True</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(())</span>
<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>(())</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_Contours.png alt="figure contours"></p><h3 id=image图片>Image图片</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>

<span class=c1># 三行三列的格子，a代表每一个值，图像右边有一个注释，白色代表值最大的地方，颜色越深值越小。</span>
<span class=n>a</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>0.313660827978</span><span class=p>,</span> <span class=mf>0.365348418405</span><span class=p>,</span> <span class=mf>0.423733120134</span><span class=p>,</span>
              <span class=mf>0.365348418405</span><span class=p>,</span> <span class=mf>0.439599930621</span><span class=p>,</span> <span class=mf>0.525083754405</span><span class=p>,</span>
              <span class=mf>0.423733120134</span><span class=p>,</span> <span class=mf>0.525083754405</span><span class=p>,</span> <span class=mf>0.651536351379</span><span class=p>])</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>

<span class=c1># 之前选cmap的参数时用的是：cmap=plt.cmap.bone，而现在，我们可以直接用单引号传入参数。</span>
<span class=c1># origin=&#39;lower&#39;代表的就是选择的原点的位置。</span>
<span class=c1># interpolation参数设置出图的方式, 具体可以参考:</span>
<span class=c1># https://matplotlib.org/examples/images_contours_and_fields/interpolation_methods.html</span>
<span class=n>plt</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>interpolation</span><span class=o>=</span><span class=s1>&#39;nearest&#39;</span><span class=p>,</span> <span class=n>cmap</span><span class=o>=</span><span class=s1>&#39;bone&#39;</span><span class=p>,</span> <span class=n>origin</span><span class=o>=</span><span class=s1>&#39;lower&#39;</span><span class=p>)</span>

<span class=c1># 添加右边显示的colorbar ，其中我们添加一个shrink参数，使colorbar的长度变短为原来的92%：</span>
<span class=n>plt</span><span class=o>.</span><span class=n>colorbar</span><span class=p>(</span><span class=n>shrink</span><span class=o>=.</span><span class=mi>92</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(())</span>
<span class=n>plt</span><span class=o>.</span><span class=n>yticks</span><span class=p>(())</span>
<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_image.png alt="figure image"></p><h3 id=3d图像>3D图像</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>from</span> <span class=nn>mpl_toolkits.mplot3d</span> <span class=kn>import</span> <span class=n>Axes3D</span>

<span class=n>fig</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>
<span class=n>ax</span> <span class=o>=</span> <span class=n>Axes3D</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
<span class=n>ax</span><span class=o>.</span><span class=n>scatter</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

<span class=c1># X, Y value</span>
<span class=n>X</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>)</span>
<span class=n>Y</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>)</span>
<span class=n>X</span><span class=p>,</span> <span class=n>Y</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>meshgrid</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>)</span>    <span class=c1># x-y 平面的网格</span>
<span class=n>R</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>X</span> <span class=o>**</span> <span class=mi>2</span> <span class=o>+</span> <span class=n>Y</span> <span class=o>**</span> <span class=mi>2</span><span class=p>)</span>
<span class=c1># height value</span>
<span class=n>Z</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>R</span><span class=p>)</span>

<span class=c1># rstride 和 cstride 分别代表 row 和 column 的跨度。</span>
<span class=n>ax</span><span class=o>.</span><span class=n>plot_surface</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>,</span> <span class=n>Z</span><span class=p>,</span> <span class=n>rstride</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>cstride</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>cmap</span><span class=o>=</span><span class=n>plt</span><span class=o>.</span><span class=n>get_cmap</span><span class=p>(</span><span class=s1>&#39;rainbow&#39;</span><span class=p>))</span>
<span class=c1># 添加 XY 平面的等高线,如果zdir 选择了x，那么效果将会是对于 XZ 平面的投影</span>
<span class=n>ax</span><span class=o>.</span><span class=n>contourf</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>,</span> <span class=n>Z</span><span class=p>,</span> <span class=n>zdir</span><span class=o>=</span><span class=s1>&#39;z&#39;</span><span class=p>,</span> <span class=n>offset</span><span class=o>=-</span><span class=mi>2</span><span class=p>,</span> <span class=n>cmap</span><span class=o>=</span><span class=n>plt</span><span class=o>.</span><span class=n>get_cmap</span><span class=p>(</span><span class=s1>&#39;rainbow&#39;</span><span class=p>))</span>
<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-25-Figure_3d.png alt="figure 3d"></p><h2 id=多图合并显示subplot>多图合并显示（subplot）</h2><h3 id=多合一显示>多合一显示</h3><h4 id=均匀分割>均匀分割</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>

<span class=c1># 分成两行两列，画在第一个图的位置</span>
<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>

<span class=c1># `223` 简单的写法，分成两行两列，画在第三个图的位置</span>
<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>223</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>224</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplot_1.png alt="figure subplot 1"></p><h4 id=不均匀分割>不均匀分割</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>

<span class=c1># 分成两行一列，画在第一个位置</span>
<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>

<span class=c1># 分成两行三列，注意是从位置4开始</span>
<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>235</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=mi>236</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplot_2.png alt="figure subplot 2"></p><h3 id=分格显示>分格显示</h3><h4 id=方法1-subplot2grid>方法1: subplot2grid</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>

<span class=c1># 将figure分成3行3列，从(0,0)开始， 横跨3列，1行</span>
<span class=n>ax1</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot2grid</span><span class=p>((</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>colspan</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>rowspan</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=n>ax2</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot2grid</span><span class=p>((</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>colspan</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=n>ax3</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot2grid</span><span class=p>((</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>rowspan</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=n>ax4</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot2grid</span><span class=p>((</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
<span class=n>ax5</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot2grid</span><span class=p>((</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>

<span class=n>ax1</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax1 title&#34;</span><span class=p>)</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax2 title&#34;</span><span class=p>)</span>
<span class=n>ax3</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax3 title&#34;</span><span class=p>)</span>
<span class=n>ax4</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax4 title&#34;</span><span class=p>)</span>
<span class=n>ax5</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax5 title&#34;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplot2grid.png alt="figure subplot2grid"></p><h4 id=方法2-gridspec>方法2: gridspec</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>import</span> <span class=nn>matplotlib.gridspec</span> <span class=kn>as</span> <span class=nn>gridspec</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>

<span class=c1># 将figure分成三行三列</span>
<span class=n>gs</span> <span class=o>=</span> <span class=n>gridspec</span><span class=o>.</span><span class=n>GridSpec</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=c1># ax1, 第一行，所有列</span>
<span class=n>ax1</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=p>:])</span>
<span class=c1># ax2, 第二行，前两列</span>
<span class=n>ax2</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=p>:</span><span class=mi>2</span><span class=p>])</span>
<span class=c1># ax2, 第二行到最后一行，第三列</span>
<span class=n>ax3</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>1</span><span class=p>:,</span> <span class=mi>2</span><span class=p>])</span>
<span class=c1># ax2, 最后一行，第一列</span>
<span class=n>ax4</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
<span class=n>ax5</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>])</span>

<span class=n>ax1</span><span class=o>.</span><span class=n>plot</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s1>&#39;ax1 title&#39;</span><span class=p>)</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax2 title&#34;</span><span class=p>)</span>
<span class=n>ax3</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax3 title&#34;</span><span class=p>)</span>
<span class=n>ax4</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax4 title&#34;</span><span class=p>)</span>
<span class=n>ax5</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&#34;ax5 title&#34;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-figure_gridspec.png alt="figure gridspec"></p><h4 id=方法3-subplots>方法3: subplots</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>

<span class=c1># 使用plt.subplots建立一个2行2列的图像窗口</span>
<span class=c1># sharex=True表示共享x轴坐标, sharey=True表示共享y轴坐标.</span>
<span class=c1># f代表figure对象</span>
<span class=c1># ((ax11, ax12), (ax13, ax14))表示第1行从左至右依次放ax11和ax12, 第2行从左至右依次放ax13和ax14.</span>
<span class=n>f</span><span class=p>,</span> <span class=p>((</span><span class=n>ax11</span><span class=p>,</span> <span class=n>ax12</span><span class=p>),</span> <span class=p>(</span><span class=n>ax13</span><span class=p>,</span> <span class=n>ax14</span><span class=p>))</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>sharex</span><span class=o>=</span><span class=bp>True</span><span class=p>,</span> <span class=n>sharey</span><span class=o>=</span><span class=bp>True</span><span class=p>)</span>

<span class=n>ax11</span><span class=o>.</span><span class=n>scatter</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>

<span class=c1># 紧凑显示图像</span>
<span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_subplots.png alt="figure subplots"></p><h3 id=图中图>图中图</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>

<span class=n>fig</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>()</span>

<span class=c1># 创建数据</span>
<span class=n>x</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>]</span>
<span class=n>y</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>

<span class=c1># 4个值都是占整个figure坐标系的百分比。</span>
<span class=c1># 在这里，假设figure的大小是10x10，那么大图就被包含在由(1, 1)开始，宽8，高8的坐标系内。</span>
<span class=n>left</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span> <span class=o>=</span> <span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>,</span> <span class=mf>0.8</span>

<span class=c1># 将大图坐标系添加到figure中，颜色为r(red)，取名为title</span>

<span class=n>ax1</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_axes</span><span class=p>([</span><span class=n>left</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>])</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s1>&#39;x&#39;</span><span class=p>)</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s1>&#39;y&#39;</span><span class=p>)</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s1>&#39;title&#39;</span><span class=p>)</span>

<span class=c1># 绘制左上角的小图，步骤和绘制大图一样，注意坐标系位置和大小的改变</span>
<span class=n>left</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span> <span class=o>=</span> <span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.6</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>,</span> <span class=mf>0.25</span>
<span class=n>ax2</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_axes</span><span class=p>([</span><span class=n>left</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>])</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>)</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s1>&#39;x&#39;</span><span class=p>)</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s1>&#39;y&#39;</span><span class=p>)</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s1>&#39;title inside 1&#39;</span><span class=p>)</span>

<span class=c1># 绘制右下角的小图。这里我们采用一种更简单方法，即直接往plt里添加新的坐标系：</span>

<span class=n>plt</span><span class=o>.</span><span class=n>axes</span><span class=p>([</span><span class=mf>0.6</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>])</span>
<span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>y</span><span class=p>[::</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=n>x</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>)</span> <span class=c1># 注意对y进行了逆序处理</span>
<span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s1>&#39;x&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;y&#39;</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>title</span><span class=p>(</span><span class=s1>&#39;title inside 2&#39;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_inside.png alt="figure insiede"></p><h3 id=次坐标轴>次坐标轴</h3><p>有时候我们会用到次坐标轴，即在同个图上有第2个y轴存在</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>

<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>)</span>
<span class=n>y1</span> <span class=o>=</span> <span class=mf>0.05</span> <span class=o>*</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span>
<span class=n>y2</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span> <span class=o>*</span> <span class=n>y1</span>

<span class=c1># 获取figure默认的坐标系 ax1</span>
<span class=n>fig</span><span class=p>,</span> <span class=n>ax1</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>()</span>
<span class=c1># 对ax1调用twinx()方法，生成如同镜面效果后的ax2</span>
<span class=n>ax2</span> <span class=o>=</span> <span class=n>ax1</span><span class=o>.</span><span class=n>twinx</span><span class=p>()</span>

<span class=n>ax1</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=s1>&#39;g-&#39;</span><span class=p>)</span>  <span class=c1># green, solid line</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s1>&#39;X data&#39;</span><span class=p>)</span>
<span class=n>ax1</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s1>&#39;Y1 data&#39;</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;g&#39;</span><span class=p>)</span>

<span class=n>ax2</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y2</span><span class=p>,</span> <span class=s1>&#39;b-&#39;</span><span class=p>)</span>  <span class=c1># blue</span>
<span class=n>ax2</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s1>&#39;Y2 data&#39;</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s1>&#39;b&#39;</span><span class=p>)</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/2017-12-26-Figure_twinx.png alt="figure twinx"></p><h2 id=动画animation>动画(Animation)</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>matplotlib</span> <span class=kn>import</span> <span class=n>pyplot</span> <span class=k>as</span> <span class=n>plt</span>
<span class=kn>from</span> <span class=nn>matplotlib</span> <span class=kn>import</span> <span class=n>animation</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=kn>as</span> <span class=nn>np</span>

<span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>()</span>

<span class=c1># 数据是一个0~2π内的正弦曲线</span>
<span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>pi</span><span class=p>,</span> <span class=mf>0.01</span><span class=p>)</span>
<span class=n>line</span><span class=p>,</span> <span class=o>=</span> <span class=n>ax</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>


<span class=c1># 构造自定义动画函数animate，用来更新每一帧上各个x对应的y坐标值，参数表示第i帧</span>
<span class=k>def</span> <span class=nf>animate</span><span class=p>(</span><span class=n>i</span><span class=p>):</span>
    <span class=n>line</span><span class=o>.</span><span class=n>set_ydata</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=n>i</span> <span class=o>/</span> <span class=mf>10.0</span><span class=p>))</span>
    <span class=k>return</span> <span class=n>line</span><span class=p>,</span>


<span class=c1># 构造开始帧函数init</span>
<span class=k>def</span> <span class=nf>init</span><span class=p>():</span>
    <span class=n>line</span><span class=o>.</span><span class=n>set_ydata</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>
    <span class=k>return</span> <span class=n>line</span><span class=p>,</span>


<span class=c1># 参数说明:</span>
<span class=c1># fig 进行动画绘制的figure</span>
<span class=c1># func 自定义动画函数，即传入刚定义的函数animate</span>
<span class=c1># frames 动画长度，一次循环包含的帧数</span>
<span class=c1># init_func 自定义开始帧，即传入刚定义的函数init</span>
<span class=c1># interval 更新频率，以ms计</span>
<span class=c1># blit 选择更新所有点，还是仅更新产生变化的点。应选择True，但mac用户请选择False，否则无法显示动画</span>
<span class=n>ani</span> <span class=o>=</span> <span class=n>animation</span><span class=o>.</span><span class=n>FuncAnimation</span><span class=p>(</span><span class=n>fig</span><span class=o>=</span><span class=n>fig</span><span class=p>,</span>
                              <span class=n>func</span><span class=o>=</span><span class=n>animate</span><span class=p>,</span>
                              <span class=n>frames</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>
                              <span class=n>init_func</span><span class=o>=</span><span class=n>init</span><span class=p>,</span>
                              <span class=n>interval</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
                              <span class=n>blit</span><span class=o>=</span><span class=bp>True</span><span class=p>)</span>

<span class=c1># 保存为MP4格式</span>
<span class=c1># ani.save(&#39;basic_animation.mp4&#39;, fps=30, extra_args=[&#39;-vcodec&#39;, &#39;libx264&#39;])</span>

<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p>{%
iframe <a href=https://cdn.jsdelivr.net/gh/crazygit/static@main/img/basic_animation.mp4>https://cdn.jsdelivr.net/gh/crazygit/static@main/img/basic_animation.mp4</a> 100% 100%
%}</p><h2 id=扩展阅读>扩展阅读</h2><ul><li><a href=https://matplotlib.org/gallery.html>Matplotlib gallery</a> 可以查看各种图的效果和代码</li><li><a href=https://liam0205.me/2014/09/11/matplotlib-tutorial-zh-cn/>Matplotlib 教程</a></li><li><a href=http://codingpy.com/article/a-quick-intro-to-matplotlib/>十分钟入门Matplotlib</a></li></ul></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>crazygit</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2017-12-25</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=//https://cdn.jsdelivr.net/gh/crazygit/static@main/img/wechatpay.jpg>
<span>微信打赏</span></label></div></div><footer class=post-footer><div class=post-tags><a href=https://crazygit.wiseturtles.com/tags/matplotlib/>matplotlib</a></div><nav class=post-nav><a class=prev href=/2017/12/26/python-for-data-analysis-2nd-edition-note-one/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg></i><span class="prev-text nav-default">《利用Python进行数据分析第二版》读书笔记一</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/2017/12/20/10-minutes-to-pandas/><span class="next-text nav-default">10分钟入门Pandas</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"/></svg></i></a></nav></footer></article><div class="post bg-white"><script src=https://utteranc.es/client.js repo=crazygit/hugo-blog-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:crazygit@foxmail.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408 1361.641813S1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523L83.726336 1024H682.532949 753.579947 1348.948139L1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955C777.248 802.205449 742.347691 811.03081 718.063616 811.603883z"/></svg></a><a href=https://twitter.com/lianglin999 rel="me noopener" class=iconfont title=twitter target=_blank><svg class="icon" viewBox="0 0 1264 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M1229.8616 18.043658s-117.852626 63.135335-164.151872 67.344358c-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"/></svg></a><a href=https://github.com/crazygit rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://www.weibo.com/crazygit/profile rel="me noopener" class=iconfont title=weibo target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"/></svg></a><a href=https://crazygit.wiseturtles.com/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2017 -
2020
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>crazygit</span></span>
<span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script><script id=baidu_analytics>var _hmt=_hmt||[];(function(){if(window.location.hostname==='localhost')return;var hm=document.createElement("script");hm.async=true;hm.src="https://hm.baidu.com/hm.js?2b47f91b8532d1a5e950c8e77142d95c";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><script id=baidu_push>(function(){if(window.location.hostname==='localhost')return;var bp=document.createElement('script');bp.async=true;var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script><script type=text/javascript src=/js/load-photoswipe.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js></script><script type=text/javascript>AV.initialize("bWUs89CHYswTxwt88Jf71tIF-gzGzoHsz","IcudhQhVD2eqKqkOTQQ6agUS");</script><script>function showHitCount(Counter){var query=new AV.Query(Counter);var entries=[];var $visitors=$(".leancloud_visitors");$visitors.each(function(){entries.push($(this).attr("id").trim());});query.containedIn('url',entries);query.find().done(function(results){var COUNT_CONTAINER_REF='.leancloud-visitors-count';if(results.length===0){$visitors.find(COUNT_CONTAINER_REF).text(0);return;}
for(var i=0;i<results.length;i++){var item=results[i];var url=item.get('url');var hits=item.get('hits');var element=document.getElementById(url);$(element).find(COUNT_CONTAINER_REF).text(hits);}
for(var i=0;i<entries.length;i++){var url=entries[i];var element=document.getElementById(url);var countSpan=$(element).find(COUNT_CONTAINER_REF);if(countSpan.text()==''){countSpan.text(0);}}}).fail(function(object,error){console.log("Error: "+error.code+" "+error.message);});}
function addCount(Counter){var $visitors=$(".leancloud_visitors");var url=$visitors.attr('id').trim();var title=$visitors.attr('data-flag-title').trim();var query=new AV.Query(Counter);query.equalTo("url",url);query.find({success:function(results){if(results.length>0){var counter=results[0];counter.fetchWhenSave(true);counter.increment("hits");counter.save(null,{success:function(counter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(counter.get('hits'));},error:function(counter,error){console.log('Failed to save Visitor num, with error message: '+error.message);}});}else{var newcounter=new Counter();var acl=new AV.ACL();acl.setPublicReadAccess(true);acl.setPublicWriteAccess(true);newcounter.setACL(acl);newcounter.set("title",title);newcounter.set("url",url);newcounter.set("hits",1);newcounter.save(null,{success:function(newcounter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(newcounter.get('hits'));},error:function(newcounter,error){console.log('Failed to create');}});}},error:function(error){console.log('Error:'+error.code+" "+error.message);}});}
$(function(){var Counter=AV.Object.extend("Counter");if($('.leancloud_visitors').length==1){addCount(Counter);}else if($('.post-link').length>1){showHitCount(Counter);}});</script><script src=/js/douban.js></script></body></html>